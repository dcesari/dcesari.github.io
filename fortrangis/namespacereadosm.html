<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FortranGIS: readosm Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FortranGIS
   &#160;<span id="projectnumber">Version 3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">readosm Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Fortran 2003 interface to the readosm <a href="https://www.gaia-gis.it/fossil/readosm/index">https://www.gaia-gis.it/fossil/readosm/index</a> library.  
<a href="namespacereadosm.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__tag.html">readosm_tag</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object describing a TAG structure.  <a href="structreadosm_1_1readosm__tag.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__tag__f.html">readosm_tag_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A more Fortran-friendly object describing a TAG structure.  <a href="structreadosm_1_1readosm__tag__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__node.html">readosm_node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object describing a NODE structure.  <a href="structreadosm_1_1readosm__node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__node__f.html">readosm_node_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A more Fortran-friendly object describing a NODE structure.  <a href="structreadosm_1_1readosm__node__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__way.html">readosm_way</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object describing a WAY structure.  <a href="structreadosm_1_1readosm__way.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__way__f.html">readosm_way_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A more Fortran-friendly object describing a WAY structure.  <a href="structreadosm_1_1readosm__way__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__member.html">readosm_member</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object describing a RELATION-MEMBER structure.  <a href="structreadosm_1_1readosm__member.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__member__f.html">readosm_member_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A more Fortran-friendly object describing a RELATION-MEMEBER structure.  <a href="structreadosm_1_1readosm__member__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__relation.html">readosm_relation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object describing a RELATION structure.  <a href="structreadosm_1_1readosm__relation.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__relation__f.html">readosm_relation_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A more Fortran-friendly object describing a RELATION structure.  <a href="structreadosm_1_1readosm__relation__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1arrayof__readosm__node__f.html">arrayof_readosm_node_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived type defining a dynamically extensible array of TYPE(readosm_node_f) elements.  <a href="structreadosm_1_1arrayof__readosm__node__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacereadosm_1_1insert.html">insert</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for inserting elements of the array at a desired position.  <a href="interfacereadosm_1_1insert.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacereadosm_1_1append.html">append</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick method to append an element to the array.  <a href="interfacereadosm_1_1append.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacereadosm_1_1remove.html">remove</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for removing elements of the array at a desired position.  <a href="interfacereadosm_1_1remove.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacereadosm_1_1delete.html">delete</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for finalizing an array object.  <a href="interfacereadosm_1_1delete.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacereadosm_1_1packarray.html">packarray</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for packing the array object reducing at a minimum the memory occupation, without destroying its contents.  <a href="interfacereadosm_1_1packarray.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1arrayof__readosm__way__f.html">arrayof_readosm_way_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived type defining a dynamically extensible array of TYPE(readosm_way_f) elements.  <a href="structreadosm_1_1arrayof__readosm__way__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1arrayof__readosm__relation__f.html">arrayof_readosm_relation_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived type defining a dynamically extensible array of TYPE(readosm_relation_f) elements.  <a href="structreadosm_1_1arrayof__readosm__relation__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreadosm_1_1readosm__full__f.html">readosm_full_f</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived type for performing a prepackaged full parsing of an osm file.  <a href="structreadosm_1_1readosm__full__f.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacereadosm_1_1readosm__open.html">readosm_open</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the .osm or .pbf file, preparing for future functions.  <a href="interfacereadosm_1_1readosm__open.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacereadosm_1_1readosm__close.html">readosm_close</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the .osm or .pbf file and release any allocated resource.  <a href="interfacereadosm_1_1readosm__close.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacereadosm_1_1readosm__parse.html">readosm_parse</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the corresponding file calling the selected callbacks for every entity encountered.  <a href="interfacereadosm_1_1readosm__parse.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a890e953dd724d0c91c949061eec26df3"><td class="memItemLeft" align="right" valign="top">integer(kind=c_int) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a890e953dd724d0c91c949061eec26df3.html#a890e953dd724d0c91c949061eec26df3">readosm_parse_f</a> (osm_handle, user_data, node_fnct, way_fnct, relation_fnct)</td></tr>
<tr class="memdesc:a890e953dd724d0c91c949061eec26df3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the corresponding file calling the selected callbacks for every entity encountered.  <a href="namespacereadosm_a890e953dd724d0c91c949061eec26df3.html#a890e953dd724d0c91c949061eec26df3">More...</a><br /></td></tr>
<tr class="separator:a890e953dd724d0c91c949061eec26df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5f475415190bb2fec7de156dc864772"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_ab5f475415190bb2fec7de156dc864772.html#ab5f475415190bb2fec7de156dc864772">readosm_parse_full_f</a> (osm_handle, fulldata)</td></tr>
<tr class="memdesc:ab5f475415190bb2fec7de156dc864772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplified parsing method for quickly retrieving all the information from a osm file.  <a href="namespacereadosm_ab5f475415190bb2fec7de156dc864772.html#ab5f475415190bb2fec7de156dc864772">More...</a><br /></td></tr>
<tr class="separator:ab5f475415190bb2fec7de156dc864772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3ffa55fc128e91ad8cfa40c10a5e65"><td class="memItemLeft" align="right" valign="top">integer(kind=c_int) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a4f3ffa55fc128e91ad8cfa40c10a5e65.html#a4f3ffa55fc128e91ad8cfa40c10a5e65">readosm_full_node</a> (user_data, node)</td></tr>
<tr class="memdesc:a4f3ffa55fc128e91ad8cfa40c10a5e65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predefined callback for parsing nodes.  <a href="namespacereadosm_a4f3ffa55fc128e91ad8cfa40c10a5e65.html#a4f3ffa55fc128e91ad8cfa40c10a5e65">More...</a><br /></td></tr>
<tr class="separator:a4f3ffa55fc128e91ad8cfa40c10a5e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8139d0e3aa344976aa1bc4fd1b7093a"><td class="memItemLeft" align="right" valign="top">integer(kind=c_int) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_ad8139d0e3aa344976aa1bc4fd1b7093a.html#ad8139d0e3aa344976aa1bc4fd1b7093a">readosm_full_way</a> (user_data, way)</td></tr>
<tr class="memdesc:ad8139d0e3aa344976aa1bc4fd1b7093a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predefined callback for parsing ways.  <a href="namespacereadosm_ad8139d0e3aa344976aa1bc4fd1b7093a.html#ad8139d0e3aa344976aa1bc4fd1b7093a">More...</a><br /></td></tr>
<tr class="separator:ad8139d0e3aa344976aa1bc4fd1b7093a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af86aa3786795baf81d60ac89ccb58550"><td class="memItemLeft" align="right" valign="top">integer(kind=c_int) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_af86aa3786795baf81d60ac89ccb58550.html#af86aa3786795baf81d60ac89ccb58550">readosm_full_relation</a> (user_data, relation)</td></tr>
<tr class="memdesc:af86aa3786795baf81d60ac89ccb58550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predefined callback for parsing relations.  <a href="namespacereadosm_af86aa3786795baf81d60ac89ccb58550.html#af86aa3786795baf81d60ac89ccb58550">More...</a><br /></td></tr>
<tr class="separator:af86aa3786795baf81d60ac89ccb58550"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afe079c0361f36620878ec5174c95afb2"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_afe079c0361f36620878ec5174c95afb2.html#afe079c0361f36620878ec5174c95afb2">readosm_undefined</a> = -1234567890</td></tr>
<tr class="memdesc:afe079c0361f36620878ec5174c95afb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">information is not available  <a href="namespacereadosm_afe079c0361f36620878ec5174c95afb2.html#afe079c0361f36620878ec5174c95afb2">More...</a><br /></td></tr>
<tr class="separator:afe079c0361f36620878ec5174c95afb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca936c43d884ceb4d8521d73d30e588"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a5ca936c43d884ceb4d8521d73d30e588.html#a5ca936c43d884ceb4d8521d73d30e588">readosm_member_node</a> = 7361</td></tr>
<tr class="memdesc:a5ca936c43d884ceb4d8521d73d30e588"><td class="mdescLeft">&#160;</td><td class="mdescRight">MemberType: NODE.  <a href="namespacereadosm_a5ca936c43d884ceb4d8521d73d30e588.html#a5ca936c43d884ceb4d8521d73d30e588">More...</a><br /></td></tr>
<tr class="separator:a5ca936c43d884ceb4d8521d73d30e588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28ca3cd49ee81b10edb7b3b718893457"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a28ca3cd49ee81b10edb7b3b718893457.html#a28ca3cd49ee81b10edb7b3b718893457">readosm_member_way</a> = 6731</td></tr>
<tr class="memdesc:a28ca3cd49ee81b10edb7b3b718893457"><td class="mdescLeft">&#160;</td><td class="mdescRight">MemberType: WAY.  <a href="namespacereadosm_a28ca3cd49ee81b10edb7b3b718893457.html#a28ca3cd49ee81b10edb7b3b718893457">More...</a><br /></td></tr>
<tr class="separator:a28ca3cd49ee81b10edb7b3b718893457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4275f8ae7bb3f0379e0088a5b3ed39"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_ada4275f8ae7bb3f0379e0088a5b3ed39.html#ada4275f8ae7bb3f0379e0088a5b3ed39">readosm_member_relation</a> = 3671</td></tr>
<tr class="memdesc:ada4275f8ae7bb3f0379e0088a5b3ed39"><td class="mdescLeft">&#160;</td><td class="mdescRight">MemberType: RELATION.  <a href="namespacereadosm_ada4275f8ae7bb3f0379e0088a5b3ed39.html#ada4275f8ae7bb3f0379e0088a5b3ed39">More...</a><br /></td></tr>
<tr class="separator:ada4275f8ae7bb3f0379e0088a5b3ed39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e9d6a70eb4e88b6d01b22756ce9f24"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_aa4e9d6a70eb4e88b6d01b22756ce9f24.html#aa4e9d6a70eb4e88b6d01b22756ce9f24">readosm_ok</a> = 0</td></tr>
<tr class="memdesc:aa4e9d6a70eb4e88b6d01b22756ce9f24"><td class="mdescLeft">&#160;</td><td class="mdescRight">No error, success.  <a href="namespacereadosm_aa4e9d6a70eb4e88b6d01b22756ce9f24.html#aa4e9d6a70eb4e88b6d01b22756ce9f24">More...</a><br /></td></tr>
<tr class="separator:aa4e9d6a70eb4e88b6d01b22756ce9f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3584bf66487ba8cdf5a6e20114ba96"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_aeb3584bf66487ba8cdf5a6e20114ba96.html#aeb3584bf66487ba8cdf5a6e20114ba96">readosm_invalid_suffix</a> = -1</td></tr>
<tr class="memdesc:aeb3584bf66487ba8cdf5a6e20114ba96"><td class="mdescLeft">&#160;</td><td class="mdescRight">not .osm or .pbf suffix  <a href="namespacereadosm_aeb3584bf66487ba8cdf5a6e20114ba96.html#aeb3584bf66487ba8cdf5a6e20114ba96">More...</a><br /></td></tr>
<tr class="separator:aeb3584bf66487ba8cdf5a6e20114ba96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb2a3b94a2d54dd4da92f6392238a48"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_aceb2a3b94a2d54dd4da92f6392238a48.html#aceb2a3b94a2d54dd4da92f6392238a48">readosm_file_not_found</a> = -2</td></tr>
<tr class="memdesc:aceb2a3b94a2d54dd4da92f6392238a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">.osm or .pbf file does not exist or is not accessible for reading  <a href="namespacereadosm_aceb2a3b94a2d54dd4da92f6392238a48.html#aceb2a3b94a2d54dd4da92f6392238a48">More...</a><br /></td></tr>
<tr class="separator:aceb2a3b94a2d54dd4da92f6392238a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e6b7e0eb4e0aba4a47f4afe05c5e10"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a82e6b7e0eb4e0aba4a47f4afe05c5e10.html#a82e6b7e0eb4e0aba4a47f4afe05c5e10">readosm_null_handle</a> = -3</td></tr>
<tr class="memdesc:a82e6b7e0eb4e0aba4a47f4afe05c5e10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Null OSM_handle argument.  <a href="namespacereadosm_a82e6b7e0eb4e0aba4a47f4afe05c5e10.html#a82e6b7e0eb4e0aba4a47f4afe05c5e10">More...</a><br /></td></tr>
<tr class="separator:a82e6b7e0eb4e0aba4a47f4afe05c5e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f03f40e547ed5425798c0ab56e80601"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a0f03f40e547ed5425798c0ab56e80601.html#a0f03f40e547ed5425798c0ab56e80601">readosm_invalid_handle</a> = -4</td></tr>
<tr class="memdesc:a0f03f40e547ed5425798c0ab56e80601"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalid OSM_handle argument.  <a href="namespacereadosm_a0f03f40e547ed5425798c0ab56e80601.html#a0f03f40e547ed5425798c0ab56e80601">More...</a><br /></td></tr>
<tr class="separator:a0f03f40e547ed5425798c0ab56e80601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879aab1e6a4ce54d18e785ce1091adc3"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a879aab1e6a4ce54d18e785ce1091adc3.html#a879aab1e6a4ce54d18e785ce1091adc3">readosm_insufficient_memory</a> = -5</td></tr>
<tr class="memdesc:a879aab1e6a4ce54d18e785ce1091adc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">some kind of memory allocation failure  <a href="namespacereadosm_a879aab1e6a4ce54d18e785ce1091adc3.html#a879aab1e6a4ce54d18e785ce1091adc3">More...</a><br /></td></tr>
<tr class="separator:a879aab1e6a4ce54d18e785ce1091adc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f99ec46b8af87a9d6270192a1ade76"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a39f99ec46b8af87a9d6270192a1ade76.html#a39f99ec46b8af87a9d6270192a1ade76">readosm_create_xml_parser_error</a> = -6</td></tr>
<tr class="memdesc:a39f99ec46b8af87a9d6270192a1ade76"><td class="mdescLeft">&#160;</td><td class="mdescRight">cannot create the XML Parser  <a href="namespacereadosm_a39f99ec46b8af87a9d6270192a1ade76.html#a39f99ec46b8af87a9d6270192a1ade76">More...</a><br /></td></tr>
<tr class="separator:a39f99ec46b8af87a9d6270192a1ade76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba06600fb6f6fb2f72ebe3b7c19a0e3b"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_aba06600fb6f6fb2f72ebe3b7c19a0e3b.html#aba06600fb6f6fb2f72ebe3b7c19a0e3b">readosm_read_error</a> = -7</td></tr>
<tr class="memdesc:aba06600fb6f6fb2f72ebe3b7c19a0e3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">read error  <a href="namespacereadosm_aba06600fb6f6fb2f72ebe3b7c19a0e3b.html#aba06600fb6f6fb2f72ebe3b7c19a0e3b">More...</a><br /></td></tr>
<tr class="separator:aba06600fb6f6fb2f72ebe3b7c19a0e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69af039b37cccb599997e041cbc2e21a"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a69af039b37cccb599997e041cbc2e21a.html#a69af039b37cccb599997e041cbc2e21a">readosm_xml_error</a> = -8</td></tr>
<tr class="memdesc:a69af039b37cccb599997e041cbc2e21a"><td class="mdescLeft">&#160;</td><td class="mdescRight">XML parser error.  <a href="namespacereadosm_a69af039b37cccb599997e041cbc2e21a.html#a69af039b37cccb599997e041cbc2e21a">More...</a><br /></td></tr>
<tr class="separator:a69af039b37cccb599997e041cbc2e21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a82cdb28e0e0121b74cd3459c338cc"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a09a82cdb28e0e0121b74cd3459c338cc.html#a09a82cdb28e0e0121b74cd3459c338cc">readosm_invalid_pbf_header</a> = -9</td></tr>
<tr class="memdesc:a09a82cdb28e0e0121b74cd3459c338cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">invalid PBF header  <a href="namespacereadosm_a09a82cdb28e0e0121b74cd3459c338cc.html#a09a82cdb28e0e0121b74cd3459c338cc">More...</a><br /></td></tr>
<tr class="separator:a09a82cdb28e0e0121b74cd3459c338cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e860395df7f21797f557d6b265882b4"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a3e860395df7f21797f557d6b265882b4.html#a3e860395df7f21797f557d6b265882b4">readosm_unzip_error</a> = -10</td></tr>
<tr class="memdesc:a3e860395df7f21797f557d6b265882b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">unZip error  <a href="namespacereadosm_a3e860395df7f21797f557d6b265882b4.html#a3e860395df7f21797f557d6b265882b4">More...</a><br /></td></tr>
<tr class="separator:a3e860395df7f21797f557d6b265882b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e358e205413f4b0f818a4875823b8b0"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacereadosm_a3e358e205413f4b0f818a4875823b8b0.html#a3e358e205413f4b0f818a4875823b8b0">readosm_abort</a> = -11</td></tr>
<tr class="memdesc:a3e358e205413f4b0f818a4875823b8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">user-required parser abort  <a href="namespacereadosm_a3e358e205413f4b0f818a4875823b8b0.html#a3e358e205413f4b0f818a4875823b8b0">More...</a><br /></td></tr>
<tr class="separator:a3e358e205413f4b0f818a4875823b8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Fortran 2003 interface to the readosm <a href="https://www.gaia-gis.it/fossil/readosm/index">https://www.gaia-gis.it/fossil/readosm/index</a> library. </p>
<p>ReadOSM is an open source library which is able to extract valid data from within an Open Street Map input file. It can read files in the .osm and .osm.pbf formats. ReadOSM is developed and maintained by Alessandro Furieri. This module defines an API which reflects the original readosm C API, plus some additional objects and methods to simplify the use from Fortran.</p>
<p>The reading of the file is callback-based, i.e. a user-defined function is called whenever a node, way or relation is encounterd in the file; the callback functions receive a copy of the entity read from the file in the form of a C-interoperable derived type which matches exactly the structures defined in the original readosm C library. The derived types can be converted on the fly to a more Fortran-friendly version, where pointers are replaced with Fortran arrays where possible. It is up to the callbacks to do something useful with the data received.</p>
<p>For an example of application of the <em>readosm</em> module, please refer to the following test program, which parses an osm file and dumps some information about it: </p><div class="fragment"><div class="line"><span class="keyword">MODULE</span> readosm_test</div>
<div class="line"><span class="keywordtype">USE </span><a class="code" href="namespacereadosm.html">readosm</a></div>
<div class="line"><span class="keywordtype">USE </span><a class="code" href="namespacefortranc.html">fortranc</a></div>
<div class="line">use,<span class="keywordtype">INTRINSIC</span> :: iso_c_binding</div>
<div class="line"><span class="keywordtype">IMPLICIT NONE</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">CONTAINS</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">! subroutine for parsing a file using user-supplied callback</span></div>
<div class="line"><span class="keyword">SUBROUTINE </span>readosm_test_setup()</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">INTEGER</span> :: err</div>
<div class="line"><span class="keywordtype">TYPE</span>(c_ptr) :: handle <span class="comment">! readosm file object</span></div>
<div class="line"><span class="keywordtype">CHARACTER(len=512)</span> :: file</div>
<div class="line"> </div>
<div class="line"><span class="keyword">CALL </span>get_command_argument(1, file)</div>
<div class="line"><span class="keywordflow">IF</span> (len_trim(file) == 0) file = <span class="stringliteral">&#39;readosm_test.osm&#39;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">! open osm file and get a file object</span></div>
<div class="line">print*,<span class="stringliteral">&#39;Opening osm file &#39;</span>,trim(file)</div>
<div class="line">err = <a class="code" href="interfacereadosm_1_1readosm__open.html">readosm_open</a>(fchartrimtostr(file), handle)</div>
<div class="line"><span class="keywordflow">IF</span> (err /= readosm_ok) <span class="keywordflow">THEN</span></div>
<div class="line">  print*,<span class="stringliteral">&#39;Error opening osm file &#39;</span>,err</div>
<div class="line">  stop 1</div>
<div class="line"><span class="keywordflow">ENDIF</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">! parse the file passing, as node_fnct argument, a user-defined</span></div>
<div class="line"><span class="comment">! function (see below) which will be called whenever a node</span></div>
<div class="line"><span class="comment">! (georeferenced point) is read from the osm file</span></div>
<div class="line">print*,<span class="stringliteral">&#39;Parsing osm file with user-defined callback&#39;</span></div>
<div class="line">err = <a class="code" href="interfacereadosm_1_1readosm__parse.html">readosm_parse</a>(handle, c_null_ptr, &amp;</div>
<div class="line"> node_fnct=node_callback)</div>
<div class="line"><span class="keywordflow">IF</span> (err /= readosm_ok) <span class="keywordflow">THEN</span></div>
<div class="line">  print*,<span class="stringliteral">&#39;Error parsing osm file &#39;</span>,err</div>
<div class="line">  stop 1</div>
<div class="line"><span class="keywordflow">ENDIF</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">print*,<span class="stringliteral">&#39;Closing osm file&#39;</span></div>
<div class="line">err = <a class="code" href="interfacereadosm_1_1readosm__close.html">readosm_close</a>(handle)</div>
<div class="line"><span class="keywordflow">IF</span> (err /= readosm_ok) <span class="keywordflow">THEN</span></div>
<div class="line">  print*,<span class="stringliteral">&#39;Error closing osm file &#39;</span>,err</div>
<div class="line">  stop 1</div>
<div class="line"><span class="keywordflow">ENDIF</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">END SUBROUTINE </span>readosm_test_setup</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">! definition of the node callback function</span></div>
<div class="line"><span class="keyword">FUNCTION </span>node_callback(user_data, node)</div>
<div class="line"><span class="keywordtype">TYPE</span>(c_ptr),<span class="keywordtype">VALUE</span> :: user_data</div>
<div class="line"><span class="keywordtype">TYPE</span>(readosm_node) :: node</div>
<div class="line"><span class="keywordtype">INTEGER(kind=c_int)</span> :: node_callback</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">TYPE</span>(readosm_node_f) :: node_f</div>
<div class="line"><span class="keywordtype">INTEGER</span> :: i</div>
<div class="line"> </div>
<div class="line"><span class="comment">! display coordinates</span></div>
<div class="line">print*,node%longitude,node%latitude</div>
<div class="line"> </div>
<div class="line"><span class="comment">! convert to a more Fortran-friendly object</span></div>
<div class="line">node_f = readosm_object_f(node)</div>
<div class="line"> </div>
<div class="line"><span class="comment">! scan the attribute list if present</span></div>
<div class="line"><span class="keywordflow">IF</span> (<span class="keyword">ALLOCATED</span>(node_f%tags)) <span class="keywordflow">THEN</span></div>
<div class="line">  <span class="keywordflow">DO</span> i = 1, <span class="keyword">SIZE</span>(node_f%tags)</div>
<div class="line"><span class="comment">!    WRITE(*,&#39;(A,&#39;&#39; = &#39;&#39;,A)&#39;)TRIM(strtofchar(node_f%tags(i)%key)), &amp;</span></div>
<div class="line"><span class="comment">!     TRIM(strtofchar(node_f%tags(i)%value))</span></div>
<div class="line"><span class="keywordflow">  ENDDO</span></div>
<div class="line"><span class="keywordflow">ENDIF</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">! set the return code to OK, otherwise parsing will stop</span></div>
<div class="line">node_callback = readosm_ok</div>
<div class="line"> </div>
<div class="line"><span class="keyword">END FUNCTION </span>node_callback</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">! subroutine for fully parsing a file using predefined callbacks</span></div>
<div class="line"><span class="keyword">SUBROUTINE </span>readosm_test_setup_full()</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">INTEGER</span> :: err</div>
<div class="line"><span class="keywordtype">TYPE</span>(c_ptr) :: handle <span class="comment">! readosm file object</span></div>
<div class="line"><span class="keywordtype">TYPE</span>(readosm_full_f) :: fulldata</div>
<div class="line"><span class="keywordtype">CHARACTER(len=512)</span> :: file</div>
<div class="line"><span class="keywordtype">INTEGER</span> :: i, j</div>
<div class="line"><span class="keywordtype">CHARACTER(len=1)</span>,<span class="keywordtype">ALLOCATABLE</span> :: key(:), val(:)</div>
<div class="line"> </div>
<div class="line"><span class="keyword">CALL </span>getarg(1, file)</div>
<div class="line"><span class="keywordflow">IF</span> (len_trim(file) == 0) file = <span class="stringliteral">&#39;readosm_test.osm&#39;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">! open osm file and get a file object</span></div>
<div class="line">print*,<span class="stringliteral">&#39;Opening osm file &#39;</span>,trim(file)</div>
<div class="line">err = <a class="code" href="interfacereadosm_1_1readosm__open.html">readosm_open</a>(fchartrimtostr(file), handle)</div>
<div class="line"><span class="keywordflow">IF</span> (err /= readosm_ok) <span class="keywordflow">THEN</span></div>
<div class="line">  print*,<span class="stringliteral">&#39;Error opening osm file &#39;</span>,err</div>
<div class="line">  stop 1</div>
<div class="line"><span class="keywordflow">ENDIF</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">! parse the file with predefined callbacks</span></div>
<div class="line">print*,<span class="stringliteral">&#39;Parsing osm file with predefined callbacks&#39;</span></div>
<div class="line">err = readosm_parse_full_f(handle, fulldata)</div>
<div class="line"><span class="keywordflow">IF</span> (err /= readosm_ok) <span class="keywordflow">THEN</span></div>
<div class="line">  print*,<span class="stringliteral">&#39;Error parsing osm file &#39;</span>,err</div>
<div class="line">  stop 1</div>
<div class="line"><span class="keywordflow">ENDIF</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">! data has to be used before closing the file, otherwise allocated</span></div>
<div class="line"><span class="comment">! buffers may be lost</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">DO</span> j = 1, fulldata%nodes%arraysize</div>
<div class="line">  print*,fulldata%nodes%array(j)%longitude,fulldata%nodes%array(j)%latitude</div>
<div class="line">  <span class="keywordflow">IF</span> (<span class="keyword">ALLOCATED</span>(fulldata%nodes%array(j)%tags)) <span class="keywordflow">THEN</span></div>
<div class="line">    <span class="keywordflow">DO</span> i = 1, <span class="keyword">SIZE</span>(fulldata%nodes%array(j)%tags)</div>
<div class="line">      key = fulldata%nodes%array(j)%tags(i)%key</div>
<div class="line">      val = fulldata%nodes%array(j)%tags(i)%value</div>
<div class="line"><span class="comment">!      WRITE(*,&#39;(A,&#39;&#39;=&#39;&#39;,A)&#39;)strtofchar(key),strtofchar(val)</span></div>
<div class="line"><span class="comment">!      WRITE(*,*)fulldata%nodes%array(j)%tags(i)%key, &amp;</span></div>
<div class="line"><span class="comment">!       fulldata%nodes%array(j)%tags(i)%value</span></div>
<div class="line"><span class="keywordflow">    ENDDO</span></div>
<div class="line"><span class="keywordflow">  ENDIF</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">ENDDO</span></div>
<div class="line"> </div>
<div class="line">print*,<span class="stringliteral">&#39;Closing osm file&#39;</span></div>
<div class="line">err = <a class="code" href="interfacereadosm_1_1readosm__close.html">readosm_close</a>(handle)</div>
<div class="line"><span class="keywordflow">IF</span> (err /= readosm_ok) <span class="keywordflow">THEN</span></div>
<div class="line">  print*,<span class="stringliteral">&#39;Error closing osm file &#39;</span>,err</div>
<div class="line">  stop 1</div>
<div class="line"><span class="keywordflow">ENDIF</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">END SUBROUTINE </span>readosm_test_setup_full</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">END MODULE </span>readosm_test</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">PROGRAM</span> readosm_test_main</div>
<div class="line"><span class="keywordtype">USE </span>readosm_test</div>
<div class="line"><span class="keywordtype">IMPLICIT NONE</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">CALL </span>readosm_test_setup()</div>
<div class="line"><span class="keyword">CALL </span>readosm_test_setup_full()</div>
<div class="line"> </div>
<div class="line"><span class="keyword">END PROGRAM </span>readosm_test_main</div>
<div class="ttc" id="ainterfacereadosm_1_1readosm__close_html"><div class="ttname"><a href="interfacereadosm_1_1readosm__close.html">readosm::readosm_close</a></div><div class="ttdoc">Close the .osm or .pbf file and release any allocated resource.</div><div class="ttdef"><b>Definition:</b> <a href="readosm_8F90_source.html#l00501">readosm.F90:501</a></div></div>
<div class="ttc" id="ainterfacereadosm_1_1readosm__open_html"><div class="ttname"><a href="interfacereadosm_1_1readosm__open.html">readosm::readosm_open</a></div><div class="ttdoc">Open the .osm or .pbf file, preparing for future functions.</div><div class="ttdef"><b>Definition:</b> <a href="readosm_8F90_source.html#l00486">readosm.F90:486</a></div></div>
<div class="ttc" id="ainterfacereadosm_1_1readosm__parse_html"><div class="ttname"><a href="interfacereadosm_1_1readosm__parse.html">readosm::readosm_parse</a></div><div class="ttdoc">Parse the corresponding file calling the selected callbacks for every entity encountered.</div><div class="ttdef"><b>Definition:</b> <a href="readosm_8F90_source.html#l00513">readosm.F90:513</a></div></div>
<div class="ttc" id="anamespacefortranc_html"><div class="ttname"><a href="namespacefortranc.html">fortranc</a></div><div class="ttdoc">Utility module for supporting Fortran 2003 C language interface module.</div><div class="ttdef"><b>Definition:</b> <a href="fortranc_8F90_source.html#l00104">fortranc.F90:104</a></div></div>
<div class="ttc" id="anamespacereadosm_html"><div class="ttname"><a href="namespacereadosm.html">readosm</a></div><div class="ttdoc">Fortran 2003 interface to the readosm https://www.gaia-gis.it/fossil/readosm/index library.</div><div class="ttdef"><b>Definition:</b> <a href="readosm_8F90_source.html#l00055">readosm.F90:55</a></div></div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
